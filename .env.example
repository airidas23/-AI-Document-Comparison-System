# AI Document Comparison System - Environment Configuration
# Copy this file to .env and adjust values as needed

# ============================================================================
# Model Paths
# ============================================================================

# Path to DeepSeek-OCR model weights (local directory)
# Default: models/deepseek-ocr
# Download via: python scripts/setup_models.py
DEEPSEEK_OCR_MODEL_PATH=models/deepseek-ocr

# Sentence transformer model name or local path
# Default: sentence-transformers/all-MiniLM-L6-v2
# For local model: models/all-MiniLM-L6-v2
# Download via: python scripts/setup_models.py
SENTENCE_TRANSFORMER_MODEL=models/all-MiniLM-L6-v2

# LayoutParser model name (optional)
# Examples: lp://PubLayNet/faster_rcnn_R_50_FPN_3x/config
# Leave empty to disable: None
LAYOUTPARSER_MODEL=None

# Table Transformer model path (optional)
# Leave empty to disable: None
TABLE_TRANSFORMER_MODEL_PATH=None

# ============================================================================
# Text Comparison Thresholds
# ============================================================================

# Cosine similarity threshold for considering text unchanged (0.0-1.0)
# Higher values = stricter matching (fewer changes detected)
# Default: 0.82
TEXT_SIMILARITY_THRESHOLD=0.82

# Similarity threshold below which text is considered semantically changed
# Default: 0.5
SEMANTIC_CHANGE_THRESHOLD=0.5

# ============================================================================
# Formatting Comparison Thresholds
# ============================================================================

# Relative difference threshold for font/spacing changes (0.0-1.0)
# Default: 0.1 (10% difference)
FORMATTING_CHANGE_THRESHOLD=0.1

# Minimum font size difference in points to detect as change
# Default: 1.0
FONT_SIZE_CHANGE_THRESHOLD_PT=1.0

# RGB color difference threshold for detecting color changes
# Default: 10
COLOR_DIFFERENCE_THRESHOLD=10

# Relative spacing change threshold (0.0-1.0)
# Default: 0.1 (10% difference)
SPACING_CHANGE_THRESHOLD_RATIO=0.1

# ============================================================================
# Layout Comparison Thresholds
# ============================================================================

# Relative page dimension change threshold (0.0-1.0)
# Default: 0.05 (5% difference)
PAGE_SIZE_CHANGE_THRESHOLD=0.05

# Maximum distance in points for block alignment matching
# Default: 100.0
BLOCK_ALIGNMENT_DISTANCE_THRESHOLD=100.0

# Minimum confidence for page alignment matching (0.0-1.0)
# Default: 0.5
PAGE_ALIGNMENT_CONFIDENCE_THRESHOLD=0.5

# ============================================================================
# Table Comparison Thresholds
# ============================================================================

# Minimum overlap score (0.0-1.0) for matching tables between pages
# Default: 0.3
TABLE_OVERLAP_THRESHOLD=0.3

# Minimum confidence for table structure detection (0.0-1.0)
# Default: 0.5
TABLE_STRUCTURE_CONFIDENCE_THRESHOLD=0.5

# ============================================================================
# Figure Comparison Thresholds
# ============================================================================

# Minimum overlap score (0.0-1.0) for matching figures between pages
# Default: 0.3
FIGURE_OVERLAP_THRESHOLD=0.3

# Margin in points for searching figure captions near figures
# Default: 50.0
CAPTION_SEARCH_MARGIN=50.0

# Maximum distance in points below figure to search for captions
# Default: 100.0
CAPTION_SEARCH_DISTANCE=100.0

# ============================================================================
# Header/Footer Detection Thresholds
# ============================================================================

# Ratio of page height for header region (top portion)
# Default: 0.1 (top 10%)
HEADER_REGION_HEIGHT_RATIO=0.1

# Ratio of page height for footer region (bottom portion)
# Default: 0.1 (bottom 10%)
FOOTER_REGION_HEIGHT_RATIO=0.1

# Minimum ratio of pages where header/footer must appear to be considered repeating
# Default: 0.33 (33% of pages)
HEADER_FOOTER_REPETITION_THRESHOLD=0.33

# Minimum similarity score for matching headers/footers between pages (0.0-1.0)
# Default: 0.3
HEADER_FOOTER_MATCH_THRESHOLD=0.3

# ============================================================================
# Visual Diff Thresholds
# ============================================================================

# Pixel difference threshold for visual diff noise filtering (0-255)
# Higher values = less sensitive to small differences
# Default: 30
VISUAL_DIFF_PIXEL_THRESHOLD=30

# DPI for visual diff rendering (lower = faster)
# Default: 150
VISUAL_DIFF_DPI=150

# Transparency for heatmap overlay (0.0-1.0)
# Default: 0.4
HEATMAP_OVERLAY_ALPHA=0.4

# ============================================================================
# Alignment Thresholds
# ============================================================================

# Search window size for page similarity matching (Â±N pages)
# Default: 3
PAGE_SIMILARITY_SEARCH_WINDOW=3

# Maximum distance in points for block alignment
# Default: 100.0
BLOCK_ALIGNMENT_DISTANCE_LIMIT=100.0

# ============================================================================
# Evaluation Metrics Targets
# ============================================================================

# Target precision for change detection (0.0-1.0)
# Default: 0.85 (85%)
TARGET_PRECISION=0.85

# Target recall for change detection (0.0-1.0)
# Default: 0.80 (80%)
TARGET_RECALL=0.80

# Target F1 score for change detection (0.0-1.0)
# Default: 0.82 (82%)
TARGET_F1_SCORE=0.82

# Target alignment accuracy (0.0-1.0)
# Default: 0.95 (95%)
TARGET_ALIGNMENT_ACCURACY=0.95

# ============================================================================
# Performance Settings
# ============================================================================

# Maximum pages to process per document
# Default: 60
MAX_PAGES=60

# Performance target: seconds per page
# Default: 3.0
SECONDS_PER_PAGE_TARGET=3.0

# Parallel workers for OCR/alignment
# Default: 4
NUM_WORKERS=4

# Enable GPU acceleration if available
# Default: false
USE_GPU=false

# Batch size for embedding computation
# Default: 32
BATCH_SIZE=32

# ============================================================================
# UI Settings
# ============================================================================

# Default UI theme (light or dark)
# Default: light
UI_THEME=light

# DPI for PDF page rendering in UI
# Default: 144
RENDER_DPI=144

# Scale factor for high-DPI rendering
# Default: 2.0
RENDER_SCALE_FACTOR=2.0

# OCR Enhancement Settings
# Use DeepSeek-OCR for all documents (not just scanned)
# Default: false (only use OCR for scanned PDFs)
USE_OCR_FOR_ALL_DOCUMENTS=false

# OCR enhancement mode: 'auto' (only scanned), 'hybrid' (OCR + native), 'ocr_only' (force OCR for all)
# Default: auto
OCR_ENHANCEMENT_MODE=auto
